# Turn off MultiViews that can break extensionless routing
Options -MultiViews

# Custom 404 â€” use a local path (not full URL)
ErrorDocument 404 /p/404.html

# Default index files
DirectoryIndex index.html index.php

# URL rewriting
RewriteEngine On
RewriteBase /

# Only rewrite when the request does NOT map to an existing file or directory
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Rewrite extensionless URLs to .html (preserve query string)
# Matches multi-segment paths too, ignores requests that already contain a dot
RewriteRule ^([^.]+)$ $1.html [L,QSA]
